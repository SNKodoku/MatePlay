<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Logros y Progreso | MatePlay</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

<header>
  <nav class="nav">
    <div class="logo">
      <div class="logo-icon">M</div>
      <span>MatePlay</span>
    </div>
    <div class="nav-links">
      <a href="index.html">Inicio</a>
      <a href="nivel1.html">Nivel 1</a>
      <a href="nivel2.html">Nivel 2</a>
      <a href="nivel3.html">Nivel 3</a>
    </div>
  </nav>
</header>

<main>

  <section>
    <h1 class="section-title">Logros y Progreso</h1>
    <p class="section-subtitle">
      Aqu√≠ puedes ver cu√°ntas actividades has completado y cu√°ntas estrellas llevas.
    </p>
  </section>

  <!-- CONTENEDOR GENERAL -->
  <section id="logrosContainer" class="levels-grid"></section>

  <!-- MENSAJE FINAL -->
  <section id="mensajeFinal" style="text-align:center;margin-top:2rem;display:none;">
    <h2 style="color:#10b981;font-size:2rem;">¬°Felicidades! üéâ</h2>
    <p>Has completado todos los logros de MatePlay.</p>
  </section>

  <!-- BOT√ìN REINICIAR -->
  <section style="text-align:center;margin-top:2rem;">
    <button class="btn btn-secondary" onclick="reiniciarLogros()">
      Reiniciar progreso
    </button>
  </section>

</main>

<footer>
  MatePlay ¬∑ Sistema de Logros ¬∑ 2025
</footer>

<script src="js/logros.js"></script>

<script>
  // ==============================
  // CARGA DE LOGROS
  // ==============================

  const logrosContainer = document.getElementById("logrosContainer");

  // Lista oficial de logros que van a aparecer en esta p√°gina
  const listaLogros = {
    nivel1_sumas:        "Nivel 1 ¬∑ Sumas",
    nivel1_restas:       "Nivel 1 ¬∑ Restas",
    nivel1_problemas:    "Nivel 1 ¬∑ Problemas",
    
    nivel2_fracciones:   "Nivel 2 ¬∑ Fracciones",
    nivel2_multiplicaciones: "Nivel 2 ¬∑ Multiplicaciones",
    nivel2_porcentajes:  "Nivel 2 ¬∑ Porcentajes",
    nivel2_divisiones:   "Nivel 2 ¬∑ Divisiones",

    nivel3_ecuaciones:   "Nivel 3 ¬∑ Ecuaciones",
    nivel3_ecuaciones2:  "Nivel 3 ¬∑ Ecuaciones Avanzadas",
    nivel3_funciones:    "Nivel 3 ¬∑ Funciones Lineales",
    nivel3_geometria:    "Nivel 3 ¬∑ Geometr√≠a",
    nivel3_pendientes:   "Nivel 3 ¬∑ Pendiente",
    nivel3_proporciones: "Nivel 3 ¬∑ Proporciones",
    nivel3_sistemas:     "Nivel 3 ¬∑ Sistemas"
  };

  function cargarLogros() {
    logrosContainer.innerHTML = "";

    let completados = 0;
    const total = Object.keys(listaLogros).length;

    for (let clave in listaLogros) {
      const nombre = listaLogros[clave];
      const estrellas = leerEstrellas(clave); // funci√≥n de logros.js

      if (estrellas > 0) completados++;

      // Tarjeta visual
      logrosContainer.innerHTML += `
        <div class="level-card" style="text-align:center;">
          <h3>${nombre}</h3>
          <p style="font-size:1.4rem;margin:0.5rem 0;">${"‚≠ê".repeat(estrellas)}</p>
          <p>${estrellas > 0 ? "Completado ‚úî" : "Sin completar ‚ùå"}</p>
        </div>
      `;
    }

    if (completados === total) {
      document.getElementById("mensajeFinal").style.display = "block";
    }
  }

  // Reiniciar todo
  function reiniciarLogros() {
    if (confirm("¬øQuieres borrar todo tu progreso?")) {
      localStorage.clear();
      cargarLogros();
      document.getElementById("mensajeFinal").style.display = "none";
    }
  }

  cargarLogros();
</script>

</body>
</html>
